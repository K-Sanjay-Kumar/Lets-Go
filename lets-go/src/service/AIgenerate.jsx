// const {
//     GoogleGenerativeAI,
//     HarmCategory,
//     HarmBlockThreshold,
//   } = require("@google/generative-ai");

import {GoogleGenerativeAI} from "@google/generative-ai";
  
  const apiKey = 'AIzaSyBNPzQKurxUoQ6wk7nk6VxMq7fHqn-p-9Q';
  // const apiKey = process.env.GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
//   async function run() {

    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location : Las Vegas, for 3 Days for Couple with a Cheap budget,Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Time t travel each of the location for 3 days with each day plan with best time to visit in JSON format."},
          ],
        },
        // {
        //   role: "model",
        //   parts: [
        //     {text: "Okay, here's a travel plan for a couple on a budget in Las Vegas for 3 days, along with hotel options and a detailed itinerary.  I've focused on free or low-cost activities and affordable accommodation.\n\n**Note:** Prices are estimates and can vary depending on the time of year and availability. It's always a good idea to check current prices before booking.\n\n```json\n{\n  \"location\": \"Las Vegas, Nevada\",\n  \"budget\": \"Cheap\",\n  \"duration\": \"3 Days\",\n  \"travelers\": \"Couple\",\n  \"hotel_options\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"60-120 USD per night\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1d/5b/0d/71/circus-circus-hotel-casino.jpg?w=700&h=500&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1241,\n        \"longitude\": -115.1688\n      },\n       \"rating\": 3.5,\n        \"description\": \"A classic, budget-friendly option on the Strip, known for its circus theme and family-friendly atmosphere. Offers basic rooms and a variety of dining options, making it suitable for those looking for value.\"\n\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n       \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"55-110 USD per night\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/e1/5b/e1/exterior-of-excalibur.jpg?w=700&h=500&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0972,\n        \"longitude\": -115.1745\n      },\n       \"rating\": 4,\n       \"description\": \"A castle-themed hotel on the southern end of the Strip, offering affordable rooms and a fun, themed environment. Great for those who want a bit of novelty without breaking the bank.\"\n    },\n    {\n      \"hotelName\": \"OYO Hotel & Casino Las Vegas\",\n      \"hotelAddress\": \"115 E Tropicana Ave, Las Vegas, NV 89109\",\n      \"price\": \"40-90 USD per night\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/18/24/61/48/oyo-hotel-casino-las-vegas.jpg?w=700&h=500&s=1\",\n       \"geoCoordinates\": {\n        \"latitude\": 36.1011,\n        \"longitude\": -115.1672\n      },\n       \"rating\": 3,\n        \"description\": \"An affordable option located slightly off the Strip, offering basic accommodation with access to a casino. A good choice for those prioritizing cost savings over amenities.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip & Free Shows\",\n      \"best_time_to_visit\": \"Late afternoon/Evening\",\n       \"activities\": [\n        {\n          \"placeName\": \"The Fountains of Bellagio\",\n          \"placeDetails\": \"A spectacular fountain show set to music. It's free and runs every 30 minutes in the afternoon and every 15 minutes in the evening.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/df/Bellagio_Fountains_from_north.jpg/1024px-Bellagio_Fountains_from_north.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1126,\n            \"longitude\": -115.1736\n           },\n          \"ticketPricing\": \"Free\",\n           \"timeToTravel\": \"From Excalibur ~ 5 mins Walk\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Gardens\",\n          \"placeDetails\": \"A beautiful indoor garden that changes with the seasons. Free to enter and great for a peaceful stroll.\",\n          \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/60/d5/bc/bellagio-conservatory-botanical.jpg?w=700&h=-1&s=1\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1128,\n            \"longitude\": -115.1736\n          },\n           \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"From Bellagio Fountains - 2 mins walk\"\n        },\n           {\n          \"placeName\": \"The Mirage Volcano\",\n          \"placeDetails\": \"A free volcano show with fire and special effects. It erupts every hour in the evening.\",\n          \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1d/b8/85/e7/the-mirage-volcano.jpg?w=700&h=-1&s=1\",\n           \"geoCoordinates\": {\n            \"latitude\": 36.1216,\n            \"longitude\": -115.1734\n          },\n          \"ticketPricing\": \"Free\",\n           \"timeToTravel\": \"From Bellagio Gardens - 15 mins Walk\"\n\n        },\n         {\n          \"placeName\": \"Walk the Strip\",\n          \"placeDetails\": \"Enjoy the vibrant atmosphere of the Las Vegas Strip, observing its themed hotels like the Venetian, Paris Las Vegas, and Caesar's Palace.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/d/d9/Las_Vegas_Strip_at_Night_from_Paris_Hotel.jpg\",\n          \"geoCoordinates\": {\n           \"latitude\": 36.1131,\n            \"longitude\": -115.1708\n          },\n           \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Start From the Mirage Hotel and walk down\"\n\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown & Fremont Street Experience\",\n      \"best_time_to_visit\": \"Afternoon/Evening\",\n       \"activities\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"A pedestrian mall with a massive video screen overhead, featuring free light shows and live music.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/46/Fremont_Street_Experience_Night_View.jpg/1024px-Fremont_Street_Experience_Night_View.jpg\",\n           \"geoCoordinates\": {\n            \"latitude\": 36.1699,\n            \"longitude\": -115.1401\n           },\n            \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"From Circus Circus - ~20 mins Drive / Cab\"\n        },\n          {\n          \"placeName\": \"Container Park\",\n          \"placeDetails\": \"An open-air shopping and entertainment venue built from repurposed shipping containers, offering unique shops, dining, and a playground.\",\n           \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0e/e7/4a/e8/container-park.jpg?w=700&h=-1&s=1\",\n           \"geoCoordinates\": {\n             \"latitude\": 36.1695,\n             \"longitude\": -115.1365\n           },\n            \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"From Fremont Street Experience - 5 mins Walk\"\n\n        },\n          {\n          \"placeName\": \"SlotZilla Zip Line\",\n          \"placeDetails\": \"If your budget allows a small thrill, consider riding the SlotZilla zip line for an exciting view of Fremont Street (small cost).\",\n          \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0e/4d/77/f6/slotzilla-zipline.jpg?w=700&h=-1&s=1\",\n          \"geoCoordinates\": {\n             \"latitude\": 36.1701,\n            \"longitude\": -115.1403\n           },\n            \"ticketPricing\": \"25-49 USD\",\n           \"timeToTravel\": \"From Container Park - 5 mins Walk\"\n\n        },\n        {\n          \"placeName\": \"Enjoy the street performers and atmosphere\",\n           \"placeDetails\": \"Explore downtown area and enjoy the street performers and unique atmosphere. \",\n          \"placeImageUrl\": \"https://static.vecteezy.com/system/resources/thumbnails/003/224/269/original/street-musician-performing-in-a-city-illustration-free-vector.jpg\",\n           \"geoCoordinates\": {\n            \"latitude\": 36.1699,\n            \"longitude\": -115.1401\n           },\n            \"ticketPricing\": \"Free\",\n           \"timeToTravel\": \"From Slotzilla - 1 min walk\"\n        }\n      ]\n    },\n   \"day3\": {\n      \"theme\": \"South Strip Exploration & Ethel M Chocolate Factory\",\n       \"best_time_to_visit\": \"Morning/Afternoon\",\n        \"activities\": [\n        {\n          \"placeName\": \"Welcome to Fabulous Las Vegas Sign\",\n          \"placeDetails\": \"A classic photo opportunity at the iconic Las Vegas sign.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/8/84/Welcome_to_Fabulous_Las_Vegas_Sign_-_20140704.jpg/1024px-Welcome_to_Fabulous_Las_Vegas_Sign_-_20140704.jpg\",\n         \"geoCoordinates\": {\n            \"latitude\": 36.0828,\n            \"longitude\": -115.1724\n          },\n           \"ticketPricing\": \"Free\",\n           \"timeToTravel\":\"From Excalibur - 5 mins Drive/Cab\"\n\n        },\n         {\n           \"placeName\": \"Ethel M Chocolate Factory\",\n          \"placeDetails\": \"Take a free self-guided tour of the chocolate factory and botanical cactus garden. Sample some chocolates (small cost).\",\n          \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/16/4c/d2/9d/ethel-m-chocolates-factory.jpg?w=700&h=-1&s=1\",\n          \"geoCoordinates\": {\n             \"latitude\": 36.0856,\n            \"longitude\": -115.0472\n            },\n           \"ticketPricing\": \"Free (chocolate sampling costs extra)\",\n            \"timeToTravel\":\"From Welcome to Fabulous Las Vegas Sign - ~20 mins Drive/Cab\"\n\n        },\n        {\n          \"placeName\": \"Mandalay Bay Shark Reef Aquarium\",\n         \"placeDetails\": \"If you're interested in marine life, consider a visit to the Shark Reef (small cost), otherwise, you can enjoy the area around Mandalay Bay.\",\n         \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/27/70/c1/c5/shark-reef-aquarium-mandalay.jpg?w=700&h=-1&s=1\",\n         \"geoCoordinates\": {\n             \"latitude\": 36.0910,\n             \"longitude\": -115.1749\n           },\n          \"ticketPricing\": \"29-40 USD\",\n           \"timeToTravel\":\"From Ethel M Chocolate Factory - ~20 mins Drive/Cab\"\n        },\n        {\n          \"placeName\": \"Enjoy a casual dinner\",\n          \"placeDetails\":\"Choose from various affordable dining options on the Strip or near your hotel\",\n          \"placeImageUrl\": \"https://www.tasteofhome.com/wp-content/uploads/2023/02/Casual-Dinner-Options.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1028,\n            \"longitude\": -115.1725\n           },\n           \"ticketPricing\": \"Variable depending on choice\",\n             \"timeToTravel\": \"Near the place of stay\"\n        }\n      ]\n    }\n  }\n}\n```\n\n**Tips for Saving Money:**\n\n*   **Transportation:** Walk as much as possible on the Strip. Use public transportation (buses) for longer distances.  Avoid taxis/rideshares if possible.\n*   **Food:** Look for affordable restaurants, food courts, or grocery stores. Take advantage of happy hour specials. Consider bringing snacks and a refillable water bottle.\n*  **Free Activities:** Take advantage of the many free shows, attractions, and walking experiences that Las Vegas has to offer.\n*   **Hotel:** Choose hotels that are slightly off the main part of the strip, or ones with lower ratings that are suitable for basic stays.\n\n**Important Notes:**\n\n*   **Book in Advance:** Try to book your hotel in advance, especially if traveling during peak season or holidays.\n*   **Flexibility:** Be flexible with your itinerary, as things don't always go as planned.\n*   **Stay Hydrated:** Las Vegas is in the desert, so drink plenty of water.\n*   **Comfortable Shoes:** You'll be doing a lot of walking, so comfortable shoes are a must!\n\nI hope this comprehensive plan helps you have a fantastic time in Las Vegas! Let me know if you have other questions.\n"},
        //   ],
        // },
      ],
    });
  
//     const result = await chatSession.sendMessage("INSERT_INPUT_HERE");
//     console.log(result.response.text());
//   }
  
//   run();